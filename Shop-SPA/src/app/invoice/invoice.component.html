<div class="content container-fluid">

  <!-- Page Header -->
  <div class="page-header">
    <div class="row align-items-center">
      <div class="col">
        <h3 class="page-title">Invoice</h3>
        <ul class="breadcrumb">
          <li class="breadcrumb-item"><a href="index.html">Dashboard</a></li>
          <li class="breadcrumb-item active">Invoice</li>
        </ul>
      </div>
      <div class="col-auto float-right ml-auto">
        <div class="btn-group btn-group-sm">
          <button class="btn btn-white">CSV</button>
          <button class="btn btn-white">PDF</button>
          <button class="btn btn-white"><i class="fa fa-print fa-lg"></i> Print</button>
        </div>
      </div>
    </div>
  </div>
  <!-- /Page Header -->

  <div class="row">
    <div class="col-md-12">
      <div class="card">
        <div class="card-body">
          <div class="row">
            <div class="col-sm-6 m-b-20">
              <img src="assets/img/logo2.png" class="inv-logo" alt="">
              <ul class="list-unstyled">
                <li>Dreamguy's Technologies</li>
                <li>3864 Quiet Valley Lane,</li>
                <li>Sherman Oaks, CA, 91403</li>
                <li>GST No:</li>
              </ul>
            </div>
            <div class="col-sm-6 m-b-20">
              <div class="invoice-details">
                <span *ngIf="order.orderInfo.status === 'Paid'" class="badge bg-inverse-success">Paid</span>
                <!-- <span *ngIf="item.status === 'Paid'" class="badge bg-inverse-info">Sent</span> -->
                <span *ngIf="order.orderInfo.status === 'PartialPaid'" class="badge bg-inverse-warning">Partially Paid</span>
                <br />
                <h3 class="text-uppercase">Invoice #{{order.orderInfo.orderNumber}}</h3>
                <ul class="list-unstyled">
                  <li>Date: <span>{{order.orderInfo.orderDate  | date: 'dd-MM-yyyy'}}</span></li>
                  <li>Due date: <span>{{order.orderInfo.dueDate  | date: 'dd-MM-yyyy'}}</span></li>
                </ul>
                
                <span *ngIf="order.orderInfo.lastPaidAt"> 
                   {{order.orderInfo.lastPaidAt | timeago}}</span>
              
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-6 col-lg-7 col-xl-8 m-b-20">
              <h5>Invoice to:</h5>
              <ul class="list-unstyled">
                <li>
                  <h5><strong>{{order.party.name}}</strong></h5>
                </li>
                <li><span>Global Technologies</span></li>
                <li>{{order.party.address}}</li>
                <li>United States</li>
                <li>GSTN: {{order.party.gstin}}</li>
                <li><a href="#">{{order.party.email}}</a></li>
              </ul>
            </div>
            <div class="col-sm-6 col-lg-5 col-xl-4 m-b-20">
              <span class="text-muted">Payment Details:</span>
              <ul class="list-unstyled invoice-payment-details">
                <li>
                  <h5>Total: <span class="text-right">Rs.{{order.orderInfo.netAmount}}</span></h5>
                </li>
                <li>Bank name: <span>Profit Bank Europe</span></li>
                <li>Country: <span>United Kingdom</span></li>
                <li>City: <span>London E1 8BF</span></li>
                <li>Address: <span>3 Goodman Street</span></li>
                <li>IBAN: <span>KFH37784028476740</span></li>
                <li>SWIFT code: <span>BPT4E</span></li>
              </ul>
            </div>
          </div>
          <div class="table-responsive">
            <table class="table table-striped table-hover">
              <thead>
                <tr>
                  <th>#</th>
                  <th>ITEM</th>
                  <th>Batch</th>
                  <th>Expired</th>
                  <th>MRP</th>
                  <th>Rate</th>
                  <th>Qty</th>
                  <th>Discount</th>
                  <th>Tax</th>
                  <th class="text-right">TOTAL</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of order.orderItems">
                  <td>{{item.id}}</td>
                  <td>{{item.product.productName}}</td>
                  <td>{{item.batchNo}}</td>
                  <td>{{item.expireDate }}</td>
                  <td>{{item.mrp}}</td>
                  <td>{{item.rate}}</td>
                  <td>{{item.quantity}}</td>
                  <td>
                   
                    Dis: {{item.discount}}% <br>
                    O.Dis: {{item.otherDiscount}}%
                  </td>
                  <td>{{item.taxId}}</td>
                  <td class="text-right">Rs.{{item.amount}}</td>
                </tr>
              </tbody>
            </table>
          </div>
          <div>
            <div class="row invoice-payment">
              <div class="col-sm-7">
              </div>
              <div class="col-sm-5">
                <div class="m-b-20">
                  <div class="table-responsive no-border">
                    <table class="table mb-0">
                      <tbody>
                        <tr>
                          <th>Subtotal:</th>
                          <td class="text-right">{{order.orderInfo.grossAmount}}</td>
                        </tr>
                        <tr>
                          <th>Tax: <span class="text-regular">(25%)</span></th>
                          <td class="text-right">{{order.orderInfo.taxAmount}}</td>
                        </tr>
                        <tr>
                          <th>Received:</th>
                          <td class="text-right">{{order.receivedPayment}}</td>
                        </tr>
                        <tr>
                          <th>Total:</th>
                          <td class="text-right text-primary">
                            <h5>{{order.orderInfo.netAmount}}</h5>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
            <div class="invoice-info">
              <h5>Other information</h5>
              <p class="text-muted">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus sed dictum ligula,
                cursus blandit risus. Maecenas eget metus non tellus dignissim aliquam ut a ex. Maecenas sed vehicula
                dui, ac suscipit lacus. Sed finibus leo vitae lorem interdum, eu scelerisque tellus fermentum. Curabitur
                sit amet lacinia lorem. Nullam finibus pellentesque libero, eu finibus sapien interdum vel</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>